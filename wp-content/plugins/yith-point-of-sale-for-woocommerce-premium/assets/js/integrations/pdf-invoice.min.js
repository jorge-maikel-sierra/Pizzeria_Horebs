!function(){var e=wp.hooks["addFilter"];const{electronicInvoiceEnabled:i,i18n:c,receiverTypeOptions:a,receiverTypeDefault:_}=yith_pos_pdf_invoice_integration_options,l="yes"===i,r=(e,i,_="")=>{return"meta_data"in e?e.meta_data.find(e=>e.key===i)?.value??_:_};e("yith_pos_customer_billing_fields","yith-pos/pdf-invoice-integration",(e,{values:i})=>{var _={vat:{key:"pdf_invoice_vat_number",type:"text",label:c.vat},ssn:{key:"pdf_invoice_vat_ssn",type:"text",label:c.ssn},receiverType:{key:"pdf_invoice_receiver_type",type:"select",label:c.receiverType,options:a},receiverId:{key:"pdf_invoice_receiver_id",type:"text",label:c.receiverId,isRequired:!0},receiverPec:{key:"pdf_invoice_receiver_pec",type:"text",label:c.receiverPec,isRequired:!0}},n=[],r=[],t=e.findIndex(e=>"pos_billing_vat"===e.key),v=e.findIndex(e=>"billing_company"===e.key),_=(l&&(n.push(_.receiverType),"company"===i.pdf_invoice_receiver_type&&-1<v&&(e[v].isRequired=!0),"IT"===i.billing_country)?"private"===i.pdf_invoice_receiver_type?n.push({..._.ssn,isRequired:!0}):(r.push({..._.vat,isRequired:!0}),r.push(_.receiverId),r.push(_.receiverPec)):(r.push(_.vat),r.push(_.ssn)),-1<t&&e.splice(t,1),(e=(-1<v?e.slice(0,v).concat(n).concat(e.slice(v)):e.concat(n)).concat(r)).findIndex(e=>"billing_company"===e.key));return-1<_&&"private"===i.pdf_invoice_receiver_type&&e.splice(_,1),e}),e("yith_pos_customer_initial_values","yith-pos/pdf-invoice-integration",(e,{customer:i})=>(e.pdf_invoice_vat_number=r(i,"billing_vat_number"),e.pdf_invoice_vat_ssn=r(i,"billing_vat_ssn"),l&&(e.pdf_invoice_receiver_type=r(i,"billing_receiver_type",_),e.pdf_invoice_receiver_id=r(i,"billing_receiver_id"),e.pdf_invoice_receiver_pec=r(i,"billing_receiver_pec")),e)),e("yith_pos_customer_data_from_values","yith-pos/pdf-invoice-integration",(e,{values:i})=>(e.meta_data=e?.meta_data??[],e.meta_data.push({key:"billing_vat_number",value:i.pdf_invoice_vat_number},{key:"billing_vat_ssn",value:i.pdf_invoice_vat_ssn}),l&&e.meta_data.push({key:"billing_receiver_type",value:i?.pdf_invoice_receiver_type??""},{key:"billing_receiver_id",value:i?.pdf_invoice_receiver_id??""},{key:"billing_receiver_pec",value:i?.pdf_invoice_receiver_pec??""}),e)),e("yith_pos_cart_generated_order","yith-pos/pdf-invoice-integration",(e,i,_)=>{var n=e.meta_data.findIndex(e=>"_billing_vat"===e.key),_=[{key:"_billing_vat_number",value:r(_,"billing_vat_number")},{key:"_billing_vat_ssn",value:r(_,"billing_vat_ssn")},{key:"_billing_receiver_type",value:r(_,"billing_receiver_type")},{key:"_billing_receiver_id",value:r(_,"billing_receiver_id")},{key:"_billing_receiver_pec",value:r(_,"billing_receiver_pec")}];return-1<n&&e.meta_data.splice(n,1),e.meta_data=e.meta_data.concat(_.filter(e=>!!e.value)),e})}();